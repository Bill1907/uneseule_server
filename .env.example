# =============================================================================
# Uneseule Backend - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in your actual values
# DO NOT commit .env to version control
# =============================================================================

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME=Uneseule Backend
APP_VERSION=0.1.0
DEBUG=false
ENVIRONMENT=development  # development, staging, production

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
HOST=0.0.0.0
PORT=8000
RELOAD=true  # Auto-reload on code changes (development only)

# -----------------------------------------------------------------------------
# CORS Settings
# -----------------------------------------------------------------------------
# Comma-separated list of allowed origins
CORS_ORIGINS=http://localhost:3000,http://localhost:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=*
CORS_ALLOW_HEADERS=*

# -----------------------------------------------------------------------------
# Database (PostgreSQL)
# -----------------------------------------------------------------------------
# Format: postgresql+asyncpg://user:password@host:port/database
DATABASE_URL=postgresql+asyncpg://postgres:password@localhost:5432/uneseule
DATABASE_ECHO=false  # Log SQL queries (development only)
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10

# -----------------------------------------------------------------------------
# Redis Cache
# -----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_TTL_SESSION=1800  # 30 minutes in seconds
REDIS_TTL_CACHE=300     # 5 minutes in seconds

# -----------------------------------------------------------------------------
# MongoDB (NoSQL - Conversations)
# -----------------------------------------------------------------------------
MONGODB_URL=mongodb://localhost:27017
MONGODB_DATABASE=uneseule

# -----------------------------------------------------------------------------
# Security & Authentication
# -----------------------------------------------------------------------------
# IMPORTANT: Generate a secure random key for production
# Example: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
PASSWORD_BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Neon Auth (User Authentication)
# -----------------------------------------------------------------------------
# Get this URL from Neon Console > Project > Auth
NEON_AUTH_URL=https://auth.your-project-id.region.neon.tech
NEON_AUTH_JWKS_CACHE_TTL=3600

# -----------------------------------------------------------------------------
# LiveKit Integration (Real-time Voice/Video)
# -----------------------------------------------------------------------------
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret
LIVEKIT_URL=wss://your-project.livekit.cloud
LIVEKIT_TOKEN_TTL=900

# -----------------------------------------------------------------------------
# Payment Gateway
# -----------------------------------------------------------------------------
# Options: stripe, toss
PAYMENT_PROVIDER=stripe

# Stripe Configuration (if using Stripe)
STRIPE_API_KEY=sk_test_your_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Toss Payments Configuration (if using Toss)
TOSS_CLIENT_KEY=test_ck_your_toss_client_key
TOSS_SECRET_KEY=test_sk_your_toss_secret_key

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_FREE=50/day
RATE_LIMIT_BASIC=200/day
RATE_LIMIT_PREMIUM=unlimited
RATE_LIMIT_GLOBAL=1000/minute

# -----------------------------------------------------------------------------
# Logging Configuration
# -----------------------------------------------------------------------------
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="%(asctime)s - %(name)s - %(levelname)s - %(message)s"

# =============================================================================
# Development Notes
# =============================================================================
# 1. Generate SECRET_KEY: openssl rand -hex 32
# 2. Set DEBUG=false and ENVIRONMENT=production for production
# 3. Use strong passwords for database connections
# 4. Enable REDIS_AUTH in production
# 5. Configure proper CORS_ORIGINS for production
# 6. Set up monitoring and error tracking (e.g., Sentry)
# =============================================================================
